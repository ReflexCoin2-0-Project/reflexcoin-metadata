<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>RFX2 Community Spin</title>
<style>
  body{
    margin:0;
    font-family:Arial,Helvetica,sans-serif;
    background:radial-gradient(circle at top,#0b1220,#05080f);
    color:#fff;
    display:flex;
    justify-content:center;
  }
  .container{
    max-width:420px;
    width:100%;
    padding:20px 16px 40px;
    box-sizing:border-box;
  }
  h1{
    color:#f5c400;
    font-size:28px;
    margin-bottom:10px;
  }
  ul{padding-left:18px;}
  li{margin-bottom:6px;}

  .wheel-wrapper{
    position:relative;
    width:100%;
    aspect-ratio:1/1;
    margin:30px auto 10px;
  }

  .wheel{
    width:100%;
    height:100%;
    border-radius:50%;
    border:6px solid #f5c400;
    background:#6a4fd3;
    position:relative;
    transition:transform 4s cubic-bezier(0.17,0.67,0.14,0.99);
  }

  .slice-line{
    position:absolute;
    width:50%;
    height:4px;
    background:#f5c400;
    top:50%;
    left:50%;
    transform-origin:left center;
  }

  .emoji{
    position:absolute;
    font-size:28px;
    transform:translate(-50%,-50%);
  }

  /* seta fixa EM BAIXO, apontada para cima */
  .pointer{
    position:absolute;
    bottom:-18px;
    left:50%;
    transform:translateX(-50%);
    width:0;height:0;
    border-left:14px solid transparent;
    border-right:14px solid transparent;
    border-top:22px solid #6fd0ff;
    z-index:5;
  }

  button{
    width:100%;
    margin-top:16px;
    padding:14px;
    font-size:16px;
    border:none;
    border-radius:999px;
    background:#f5c400;
    color:#000;
    font-weight:bold;
    cursor:pointer;
  }

  input{
    width:100%;
    padding:12px;
    margin-top:14px;
    border-radius:999px;
    border:none;
  }

  .result{
    text-align:center;
    margin-top:14px;
    font-size:18px;
  }
</style>
</head>
<body>
<div class="container">

  <h1>ðŸŽ¡ RFX2 Community Spin</h1>
  <ul>
    <li>1 spin every 6 hours</li>
    <li>Airdrop slice included</li>
    <li>Equal probability for all emojis</li>
  </ul>

  <div class="wheel-wrapper">
    <div class="wheel" id="wheel"></div>
    <div class="pointer"></div>
  </div>

  <button id="spinBtn">Spin</button>

  <input type="text" placeholder="Solana wallet (optional)" />

  <button>Connect Phantom</button>
  <button>Share your win on X</button>

  <div class="result" id="result">Result: â€”</div>

</div>

<script>
  const emojis = ["ðŸ”¥","â¤ï¸","â­","ðŸ’Ž","ðŸ™‚","ðŸ˜¡"];
  const wheel = document.getElementById("wheel");
  const resultEl = document.getElementById("result");

  const sliceCount = emojis.length;
  const sliceAngle = 360 / sliceCount;

  /* desenhar linhas e emojis */
  emojis.forEach((emoji, i) => {
    const line = document.createElement("div");
    line.className = "slice-line";
    line.style.transform = `rotate(${i * sliceAngle}deg)`;
    wheel.appendChild(line);

    const angle = (i * sliceAngle + sliceAngle / 2) * Math.PI / 180;
    const r = 35; // %
    const x = 50 + r * Math.cos(angle);
    const y = 50 + r * Math.sin(angle);

    const e = document.createElement("div");
    e.className = "emoji";
    e.style.left = x + "%";
    e.style.top = y + "%";
    e.textContent = emoji;
    wheel.appendChild(e);
  });

  let currentRotation = 0;

  document.getElementById("spinBtn").onclick = () => {
    const winnerIndex = Math.floor(Math.random() * sliceCount);

    /*
      A seta estÃ¡ em baixo (270Â°).
      Queremos que o centro da fatia vencedora alinhe com 270Â°.
    */
    const targetAngle = 270 - (winnerIndex * sliceAngle + sliceAngle / 2);

    currentRotation += 360 * 5 + targetAngle;
    wheel.style.transform = `rotate(${currentRotation}deg)`;

    setTimeout(() => {
      resultEl.textContent = "Result: " + emojis[winnerIndex];
    }, 4200);
  };
</script>

</body>
</html>
